<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>gfstress.rb</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="gfstress.rb">
<a name="gfstress.rb.1"></a><div class="titlepage"></div>
<div class="refnamediv">
<a name="name"></a><h2>Name</h2>
<p>gfstress.rb — Gfarm 負荷試験を行う</p>
</div>
<div class="refsynopsisdiv" title="Synopsis">
<a name="synopsis"></a><h2>Synopsis</h2>
<div class="cmdsynopsis"><p><code class="command">gfstress.rb</code>  [-t, --testdir <em class="replaceable"><code>テストディレクトリ</code></em>] [-m, --gfarm2fs <em class="replaceable"><code>gfarm2fsマウントポイント</code></em>] [-n, --number <em class="replaceable"><code>擬似ユーザ数</code></em>] [-T, --timeout <em class="replaceable"><code>制限時間(秒)</code></em>]</p></div>
</div>
<div class="refsect1" title="DESCRIPTION">
<a name="description"></a><h2>DESCRIPTION</h2>
<p><em class="parameter"><code>テストディレクトリ</code></em>を使用してgfperf-metadata, gfperf-tree, gfperf-read, gfperf-write, gfperf-replicaを同時並列に起動し、高負荷状態を作り出します。gfschedを呼び出し、各gfsdに対し並列にgfperf-read, gfperf-write, gfperf-replicaを実行します。
</p>
<p>
本コマンドは、Ctrl-CまたはTERMシグナルで停止させない限り、エラーを検出するまでデフォルトでは動作し続けます。-T オプションで制限時間を指定できます。
</p>
<p>
擬似ユーザ数はgfperf-metadata, gfperf-read, gfperf-write, gfperf-replicaを一セットとし、何セットを同時実行するかを指定するものです。本コマンドを同時に複数個呼出したのと同等の効果が得られます。
</p>
<p>
gfarm2fsマウントポイントが与えられた場合はlibgfarmを使用した通常の負荷に加えてgfarm2fsを経由した負荷も同時に与えます。
</p>
</div>
<div class="refsect1" title="OPTIONS">
<a name="options"></a><h2>OPTIONS</h2>
<div class="variablelist"><dl>
<dt><span class="term"><code class="option">-t, --testdir</code> <em class="parameter"><code>テストディレクトリ</code></em></span></dt>
<dd><p>
高負荷試験に使用するディレクトリを指定します。デフォルトはgfarm:///stressです。
テスト終了後にテストデータを削除します。
</p></dd>
<dt><span class="term"><code class="option">-m, --gfarm2fs</code> <em class="parameter"><code>gfarm2fsマウントポイント</code></em></span></dt>
<dd><p>
gfarm2fsのマウントポイントを指定します。
</p></dd>
<dt><span class="term"><code class="option">-n, --number</code> <em class="parameter"><code>擬似ユーザ数</code></em></span></dt>
<dd><p>
本コマンドを複数個同時に呼出したのと同じ効果が得られます。
</p></dd>
<dt><span class="term"><code class="option">-T, --timeout</code> <em class="parameter"><code>秒数</code></em></span></dt>
<dd><p>
制限時間を指定します。
</p></dd>
</dl></div>
</div>
</div></body>
</html>
