<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>gfperf-metadata</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="gfperf-metadata">
<a name="gfperf-metadata.1"></a><div class="titlepage"></div>
<div class="refnamediv">
<a name="name"></a><h2>Name</h2>
<p>gfperf-metadata â€” Gfarm measure metadata performance</p>
</div>
<div class="refsynopsisdiv" title="Synopsis">
<a name="synopsis"></a><h2>Synopsis</h2>
<div class="cmdsynopsis"><p><code class="command">gfperf-metadata</code>  [-n, --number <em class="replaceable"><code>number of entries</code></em>] [-t, --testdir <em class="replaceable"><code>test directory</code></em>] [-u, --unit <em class="replaceable"><code>output unit</code></em>]</p></div>
</div>
<div class="refsect1" title="DESCRIPTION">
<a name="description"></a><h2>DESCRIPTION</h2>
<p>This command makes sepcified number of files and directories in <em class="parameter"><code>test directory</code></em>. And measures performance of execution time.
</p>
<p>The following points to measure.
</p>
<div class="variablelist"><dl>
<dt><span class="term">create</span></dt>
<dd><p>
	Measuring gfs_pio_create() or creat() performance.
	The output is average of execute time of this function.
      </p></dd>
<dt><span class="term">readdir</span></dt>
<dd><p>
	Measuring execution time from gfs_opendir_caching() and gfs_readdir() to gfs_closedir(). 
	In posix filesystem, measuring execution time from opendir() and readdir() to closedir().
	The output is the time divided by <em class="parameter"><code>number of entries</code></em>.
      </p></dd>
<dt><span class="term">readdir+stat</span></dt>
<dd><p>
	Measuring time of gfs_lstat_cached() or lstat() added to mentioned above in readdir.
	The output is the time divided by <em class="parameter"><code>number of entries</code></em>.
      </p></dd>
<dt><span class="term">unlink</span></dt>
<dd><p>
	Measuring gfs_unlink() or unlink() performance.
	The output is average of execute time of this function.
      </p></dd>
<dt><span class="term">mkdir</span></dt>
<dd><p>
	Measuring gfs_mkdir() or mkdir() performance.
	The output is average of execute time of this function.
      </p></dd>
<dt><span class="term">stat</span></dt>
<dd><p>
	Measuring gfs_lstat() or lstat() performance.
	The output is average of execute time of this function.
      </p></dd>
<dt><span class="term">chmod</span></dt>
<dd><p>
	Measuring gfs_chmod() or chmod() performance.
	The output is average of execute time of this function.
      </p></dd>
<dt><span class="term">utimes</span></dt>
<dd><p>
	Measuring gfs_utimes() or utimes() performance.
	The output is average of execute time of this function.
      </p></dd>
<dt><span class="term">rename</span></dt>
<dd><p>
	Measuring gfs_rename() or rename() performance.
	The output is average of execute time of this function.
      </p></dd>
<dt><span class="term">symlink</span></dt>
<dd><p>
	Measuring gfs_symlink() or symlink() performance.
	The output is average of execute time of this function.
      </p></dd>
<dt><span class="term">readlink</span></dt>
<dd><p>
	Measuring gfs_readlink() or readlink() performance.
	The output is average of execute time of this function.
      </p></dd>
<dt><span class="term">setxattr</span></dt>
<dd><p>
	Measuring gfs_setattr() or setxattr() performance.
	The output is average of execute time of this function.
      </p></dd>
<dt><span class="term">getxattr</span></dt>
<dd><p>
	Measuring gfs_getattr() or getxattr() performance.
	The output is average of execute time of this function.
      </p></dd>
<dt><span class="term">removexattr</span></dt>
<dd><p>
	Measuring gfs_removeattr() or removexattr() performance.
	The output is average of execute time of this function.
      </p></dd>
<dt><span class="term">rmdir</span></dt>
<dd><p>
	Measuring gfs_removedir() or removedir() performance.
	The output is average of execute time of this function.
      </p></dd>
</dl></div>
<p>
</p>
</div>
<div class="refsect1" title="OPTIONS">
<a name="options"></a><h2>OPTIONS</h2>
<div class="variablelist"><dl>
<dt><span class="term"><code class="option">-n, --number</code> <em class="parameter"><code>number of entries</code></em></span></dt>
<dd><p>
Creating number of files or directories to measure.
The default is 250.
</p></dd>
<dt><span class="term"><code class="option">-t, --testdir</code> <em class="parameter"><code>test directory</code></em></span></dt>
<dd><p>
Files and directories are created in <em class="parameter"><code>test directory</code></em>.
If gfarm url (that begins with gfarm:///) is specified, measured by gfarm functions. If file url (that begins with file:///) is specified, measured by posix functions.
The default is gfarm:///tmp .
</p></dd>
<dt><span class="term"><code class="option">-u, --uinit</code> <em class="parameter"><code>output unit</code></em></span></dt>
<dd><p>Specify ops (operations per second) or usec (micro second).
The default is ops.
</p></dd>
</dl></div>
</div>
</div></body>
</html>
