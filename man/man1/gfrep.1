'\" t
.\"     Title: gfrep
.\"    Author: [FIXME: author] [see http://docbook.sf.net/el/author]
.\" Generator: DocBook XSL Stylesheets v1.76.1 <http://docbook.sf.net/>
.\"      Date: 31 May 2008
.\"    Manual: Gfarm
.\"    Source: Gfarm
.\"  Language: English
.\"
.TH "GFREP" "1" "31 May 2008" "Gfarm" "Gfarm"
.\" -----------------------------------------------------------------
.\" * Define some portability stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
gfrep \- replicate Gfarm files
.SH "SYNOPSIS"
.HP \w'\fBgfrep\fR\ 'u
\fBgfrep\fR [\-mnqvx] [\-S\ \fIsource\-domainname\fR] [\-D\ \fIdestination\-domainname\fR] [\-h\ \fIsource\-hostfile\fR] [\-H\ \fIdestination\-hostfile\fR] [\-N\ \fInum\-of\-replicas\fR] [\-j\ \fInum\-of\-threads\fR] \fIpath\fR...
.SH "DESCRIPTION"
.PP

\fBgfrep\fR
creates specified number of replicas of Gfarm files specified by the
\fIpath\fR
to specified set of destination hosts\&. When set of source hosts are specified, only files stored on the set of source hosts are replicated\&. A set of hosts can be specified by a domain name and/or a host file\&. When both a domain name and a host file are specified, a set of hosts is determined by both conditions\&.
.PP
If the
\fIpath\fR
parameter is a directory, files under the directory will be copied recursively\&.
.SH "OPTIONS"
.PP
\fB\-S\fR \fIsource\-domainname\fR
.RS 4
Specifies the domain name of source filesystem nodes from which replicas will be copied\&.
.RE
.PP
\fB\-D\fR \fIdestination\-domainname\fR
.RS 4
Specifies the domain name of destination filesystem nodes to which replicas will be copied\&.
.sp
If neither this nor the
\fB\-H\fR
option is specified, replicas may be copied to any available host\&.
.RE
.PP
\fB\-h\fR \fIsource\-hostfile\fR
.RS 4
Specifies a file which describes hostnames of source filesystem nodes from which the replica will be made\&. The
\fIsource\-hostfile\fR
consists of a filesystem node name on each line\&.
.sp
if ``\-\*(Aq\*(Aq is specified, standard input is used to read the host list\&.
.RE
.PP
\fB\-H\fR \fIdestination\-hostfile\fR
.RS 4
Specifies a file which describes hostnames of destination filesystem nodes on which the replica will be made\&. The
\fIdestination\-hostfile\fR
consists of a filesystem node name on each line\&.
.sp
if ``\-\*(Aq\*(Aq is specified, standard input is used to read the host list\&.
.RE
.PP
\fB\-N\fR \fInum\-of\-replicas\fR
.RS 4
Specifies the required number of file replicas, counting already existing ones\&. If there are a sufficient number of replicas in the destination hosts, neither any copying nor any removal will be done\&.
.sp
If this option is not specified,
\fB\-N 1\fR
is assumed\&.
.RE
.PP
\fB\-j\fR \fInum\-of\-threads\fR
.RS 4
Specifies the number of threads to create file replicas simultaneously\&. This option is only available when compiled by an OpenMP C compiler\&. By default, it will be the smallest among the number of total files, the number of source hosts, and the number of destination hosts\&.
.RE
.PP
\fB\-m\fR
.RS 4
Lets gfrep command do a migrate/move, instead of doing replication\&.
.RE
.PP
\fB\-x\fR
.RS 4
Removes file replicas when a set of destination nodes has more file replicas than specified\&.
.RE
.PP
\fB\-n\fR
.RS 4
Displays files to be replicated, but does nothing\&.
.RE
.PP
\fB\-q\fR
.RS 4
Suppresses non\-error messages\&.
.RE
.PP
\fB\-v\fR
.RS 4
Displays verbose output\&.
.RE
.PP
\fB\-?\fR
.RS 4
Displays a list of command options\&.
.RE
.SH "BUGS"
.PP
A source host is not always selected within a set of source hosts\&.
